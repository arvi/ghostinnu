# Ghostty, Nushell, & Starship Configuration

Configuration for Ghostty terminal, Nushell shell, and Starship prompt.

## üöÄ Features

- **[Nushell](https://www.nushell.sh)**: Modern shell with structured data pipelines
- **[Ghostty](https://ghostty.org)**: Fast, native, feature-rich terminal emulator
- **[Starship](https://starship.rs)**: Minimal, blazing-fast, customizable prompt
- **CLI Tools**: bat, fd, fzf, ripgrep, zoxide integration
- **Interactive Navigation**: FZF-powered file/directory browsing with previews
- **Aliases**: Organized by category (defaults, git, docker)
- **Keybindings**: Efficient keyboard shortcuts for common tasks
- **Clean Structure**: Modular configuration files for easy maintenance
- **Catppuccin Mocha Theme**: My favorite [color scheme](https://catppuccin.com)

## üìã Prerequisites

Install these tools for full functionality:
```bash
# Core tools (required)
brew install nushell ghostty starship

# CLI tools
brew install bat fd fzf ripgrep zoxide

# Development Tools (optional; highly recommended)
brew install mise git-delta lazygit

# Editors - Neovim and Cursor
brew install neovim
# also install Cursor from https://cursor.sh
```

## üìÅ File Structure
```
~/Library/Application Support/nushell/  (this repository)
‚îú‚îÄ‚îÄ README.md              # This file
‚îú‚îÄ‚îÄ .gitignore             # Git ignore patterns
‚îÇ
‚îú‚îÄ‚îÄ config.nu              # Main Nushell config
‚îú‚îÄ‚îÄ env.nu                 # Environment variables
‚îú‚îÄ‚îÄ aliases_defaults.nu    # CLI tool aliases
‚îú‚îÄ‚îÄ aliases_git.nu         # Git-related aliases
‚îú‚îÄ‚îÄ aliases_docker.nu      # Docker-related aliases
‚îú‚îÄ‚îÄ navigation.nu          # FZF functions & keybindings
‚îú‚îÄ‚îÄ integrations.nu        # External tool loader
‚îú‚îÄ‚îÄ integrations_setup.sh  # Executable; auto-generates integrations directory
‚îÇ
‚îú‚îÄ‚îÄ integrations/          # Auto-generated (gitignored)
‚îÇ   ‚îú‚îÄ‚îÄ starship.nu        # Generated by: starship init nu
‚îÇ   ‚îú‚îÄ‚îÄ zoxide.nu          # Generated by: zoxide init nushell
‚îÇ   ‚îî‚îÄ‚îÄ mise.nu            # Generated by: mise activate nu
‚îÇ
‚îú‚îÄ‚îÄ ghostty/
‚îÇ   ‚îî‚îÄ‚îÄ config             # Ghostty terminal config
‚îÇ
‚îî‚îÄ‚îÄ starship/
    ‚îú‚îÄ‚îÄ starship.toml      # Full Starship config (symlinked to ~/.config/)
    ‚îî‚îÄ‚îÄ starship.toml.minimal  # Minimal Starship config (symlinked as starship.toml to ~/.config/)
```

> **Note**: On Linux, this would be `~/.config/nushell/`. Configs use `$nu.default-config-dir` which works on all platforms.

## üîß Installation - macOS
> **üçé Primary Platform**: These instructions are for **macOS** where this config is actively used and tested. While the Nushell configs themselves are cross-platform, the setup script may need adjustments for Linux/Windows. Contributions for other platforms are very welcome!

> **Note**: The following steps should be done in the `Ghostty` terminal. Make sure you've installed all [prerequisites](#-prerequisites) first.

### 1. Backup existing configuration (if any)
```nushell
# Check if config exists - if you see "not found", skip this step (Proceed to Step 2)
ls `~/Library/Application Support/nushell`

# If it exists, back it up:
mv ($env.HOME | path join "Library/Application Support/nushell") ($env.HOME | path join "Library/Application Support/nushell.backup")

# You should see both nushell and nushell.backup
ls `~/Library/Application Support/`
```
```bash
# Close `Ghostty` and use `Terminal` to stop existing nu processes and delete existing nushell
killall nu
cd ~/Library/Application\ Support/
sudo rm -rf nushell/

# You should only see nushell.backup
ls -la

# Exit `Terminal` and do Step 2 in `Ghostty`
```

### 2. Clone this repository
`<repo-url>` e.g `https://github.com/arvi/ghostinnu.git`
```nushell
git clone <repo-url> `~/Library/Application Support/nushell`
cd `~/Library/Application Support/nushell`
ls -la
```

### 3. Run integrations setup script
```nushell
chmod +x integrations_setup.sh
./integrations_setup.sh
```

### 4. Restart Ghostty

Close and reopen Ghostty terminal to apply all configurations.

## üñ•Ô∏è Editor Integration

### Cursor (VS Code)

To use Nushell as your default terminal in Cursor and enable Alt keybindings:

1. Open Cursor Settings (`Cmd+Shift+P`)
2. Type and select "Open Settings (JSON)"
3. Add (or modify) the following configuration:
```json
{
    // Set Nushell as default terminal
    "terminal.integrated.defaultProfile.osx": "nu",

    // Enable Alt keybindings
    "terminal.integrated.macOptionIsMeta": true,

    // Terminal profiles
    "terminal.integrated.profiles.osx": {
        "nu": {
            "path": "/opt/homebrew/bin/nu", // Use path from "which nu"
            "args": []
        },
        "bash": {
            "path": "/bin/bash"
        },
        "zsh": {
            "path": "/bin/zsh"
        }
    }
}
```

**What this does:**
- Sets Nushell as your default terminal in Cursor
- Left and right Options (‚å•) key works as Alt for keybindings (Alt+C, Alt+Z, etc.)
- Keeps bash and zsh available as alternative profiles

> **Note**: Restart Cursor after making these changes.

### Neovim

If using Neovim inside Nushell, your shell configuration automatically applies. No additional setup needed!

## üìñ Usage Guide

### Keybindings

| Keybinding | Action | Use Case |
|------------|--------|----------|
| `Ctrl+R` | Search command history | Find previously used commands |
| `Ctrl+T` | Insert file path | Build commands: `git add <Ctrl+T>` |
| `Alt+C` | Browse & change directory | Navigate to any folder recursively |
| `Alt+Z` | Jump to frequent directory | Quick access to often-used dirs |

### Power Functions (Type and press Enter)

| Command | Description | Example |
|---------|-------------|---------|
| `f` | Browse files (returns path) | `f` ‚Üí select ‚Üí get filename |
| `fv` | Browse and open in nvim | `fv` ‚Üí select ‚Üí opens in nvim |
| `fo` | Browse and open with default app | `fo` ‚Üí select ‚Üí opens PDF/etc |
| `fc` | Browse and display contents | `fc` ‚Üí select ‚Üí shows with bat |
| `rgf "pattern"` | Search file contents (includes hidden) | `rgf "TODO"` ‚Üí find in `.eslintrc`, etc. |
| `rgfa "pattern"` | Search everything (ignores .gitignore) | `rgfa "API_KEY"` ‚Üí search node_modules too |

### Improved CLI Tools

| Old | New | Description |
|-----|-----|-------------|
| `cat` | `bat` | Syntax highlighting, line numbers |
| `find` | `fd` | Faster, simpler, respects .gitignore |
| `grep` | `rg` | Ripgrep - much faster searching |
| `cd` | `z` | Zoxide - smart directory jumping |

### Quick Commands
```nushell
# Navigation
..                    # Up one directory (zoxide)
...                   # Up two directories
-                     # Jump to previous directory
zz                    # Interactive directory jump

# File viewing
cat file.txt          # View with syntax highlighting (bat)
catl file.txt         # View without decorations
cata file.txt         # View with paging

# Finding files
fdf                   # Find files only
fdd                   # Find directories only
fda                   # Find all (including gitignored)

# Searching content
rg "pattern"          # Search in files
rgi "pattern"         # Case-insensitive search
rgl "pattern"         # Just show filenames
rga "pattern"         # Search all (including gitignored)

# Editors
v file.txt            # Open in nvim
vi file.txt           # Open in nvim
cs file.txt           # Open in Cursor
cu file.txt           # Open in Cursor
o file.pdf            # Open with default app

# Utilities
ll                    # List with sorting
la                    # List all with sorting
ls  dir1 dir2         # List contents of one or more directories
psf                   # Browse processes interactively
envf                  # Browse environment variables
```

## üé® Customizations

### Add Own Aliases

Create a new file (e.g., `aliases_custom.nu`):
```nu
# My custom aliases
alias myalias = echo "Hello!"
```

Then source it in `config.nu`:
```nu
source ($nu.default-config-dir | path join "aliases_custom.nu")
```

### Modify Keybindings

Edit `navigation.nu` and adjust the keybindings section. After changes:
```nushell
source ($nu.default-config-dir | path join "config.nu")
```

### Change Theme

Edit `config.nu` and modify the `$env.config.color_config` section. Current theme is Catppuccin Mocha.

## üîÑ Updating Integration Files

To update starship, zoxide, or mise, regenerate their integration files:
```nushell
starship init nu | save -f ($nu.default-config-dir | path join "integrations/starship.nu")
zoxide init nushell | save -f ($nu.default-config-dir | path join "integrations/zoxide.nu")
mise activate nu | save -f ($nu.default-config-dir | path join "integrations/mise.nu")
```

## üñ•Ô∏è Platform Differences

| Platform | Config Location |
|----------|----------------|
| macOS | `~/Library/Application Support/nushell/` |
| Linux | `~/.config/nushell/` |
| Windows | `%APPDATA%\nushell\` |

Use `$nu.default-config-dir` in configs for cross-platform compatibility.

## üìö Learning Resources

- [Nushell Book](https://www.nushell.sh/book/)
- [Nushell Cookbook](https://www.nushell.sh/cookbook/)
- [Modern Unix Tools](https://github.com/ibraheemdev/modern-unix)
- [FZF Wiki](https://github.com/junegunn/fzf/wiki)
- [Ghostty and Vim Cheatsheets](https://ricoberger.de/cheat-sheets/)

## ü§ù Contributing

Feel free to:
- Add custom aliases
- Improve documentation
- Extend CLI tools, themes, configs
- Report issues

## üìù Notes

- The `integrations/` folder contains auto-generated files - don't edit them directly
- Use `def` for complex functions with pipes, `alias` for simple replacements
- Power functions require **Enter** to activate, keybindings are just key presses
- Aliases are organized by category for easy maintenance
- All configs use `$nu.default-config-dir` for cross-platform compatibility

## üêõ Troubleshooting

### Alt key not working on macOS?

Add to Ghostty config (`~/.config/ghostty/config`):
```
macos-option-as-alt = true
```
> **Note**: Restart Ghostty after making this change.

### Keybinding not working?

Check if another keybinding conflicts:
```nushell
$env.config.keybindings | where modifier == alt and keycode == char_c
```
> **Note**: If you see multiple entries with the same modifier+keycode, you have a conflict.

### Where is my config directory?

```nushell
echo $nu.default-config-dir
```

### How to view my current configuration?

```nushell
$env.config
$env.config.keybindings
```

---

### üöÄ All set! Made with ‚ù§Ô∏è for me and fellow terminal enthusiasts.
